# OneM
**OneMæ˜¯ä¸€æ¬¾çº¯ReactNativeæ‰“é€ çš„é›†æ‚å¿—æµè§ˆã€éŸ³ä¹æ’­æ”¾ã€è§†é¢‘æ’­æ”¾äºä¸€ä½“çš„ç»¼åˆæ€§App,å¹¶ä¸”æ”¯æŒiOSå’ŒAndroidåŒå¹³å°**

# æ›´å¤šReact Navite å­¦ä¹ èµ„æºè¯·å‚ç…§ä½œè€…ç®€ä¹¦
[http://www.jianshu.com/u/023338566ca5](http://www.jianshu.com/u/023338566ca5)

# è¯·æ³¨æ„
* å¦‚æœæœ‰åŒå­¦å‘ç°è¿è¡Œé¡¹ç›®æŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œè¯·å°†OneMé¡¹ç›®ä¸­çš„react-nativeç‰ˆæœ¬ä»ä¹‹å‰çš„0.47.2 å‡çº§åˆ°0.49.3 æ‰§è¡Œå‘½ä»¤ï¼šnpm install react-native@0.49.3 --save

![error](http://ovyjkveav.bkt.clouddn.com/17-11-8/13256931.jpg)

* å®‰å“è¿è¡Œé¡¹ç›®æŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œè¯·å¼€å¯Androidæ¨¡æ‹Ÿå™¨çš„è°ƒè¯•æ¨¡å¼è¯•è¯•ã€‚

![error](http://ovyjkveav.bkt.clouddn.com/17-11-16/91256214.jpg)

* ç”±äºè™¾ç±³éŸ³ä¹æ¥å£æ›´æ–°ï¼ŒéŸ³ä¹æ’­æ”¾å™¨é¡µé¢æš‚æ—¶è¯·æ±‚ä¸åˆ°è™¾ç±³æ•°æ®ï¼Œè¿‘ä¸¤å¤©ä¿®å¤æ­¤é—®é¢˜
* å¦‚æœè¿˜æ˜¯æŠ¥é”™ä¸èƒ½è¿è¡Œé¡¹ç›®ï¼Œè¯·è”ç³»ä½œè€…ï¼ŒåŠ å…¥ä½œè€…RNäº¤æµç¾¤ï¼š620792950 å‘ŠçŸ¥ä½œè€…å³å¯

# é¡¹ç›®å®Œæ•´çš„åŠŸèƒ½è®²è§£è¯¦æƒ…è¯·å‚ç…§ä½œè€…ç®€ä¹¦
[http://www.jianshu.com/p/c8ce256db5cf](http://www.jianshu.com/p/c8ce256db5cf)

# ç›®å½•
* [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
* [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
* [æ•ˆæœå›¾é¢„è§ˆ](#æ•ˆæœå›¾é¢„è§ˆ)
* [å®‰è£…è°ƒè¯•](#å®‰è£…è°ƒè¯•)
* [æ•°æ®API](#æ•°æ®API)
* [æŠ€æœ¯è¦ç‚¹](#æŠ€æœ¯è¦ç‚¹)
* [ä½¿ç”¨åˆ°çš„å¸¸ç”¨ä¸‰æ–¹åº“](#ä½¿ç”¨åˆ°çš„å¸¸ç”¨ä¸‰æ–¹åº“)
* [å®æˆ˜å¼€å‘ä¸­é‡åˆ°çš„å‘](#å®æˆ˜å¼€å‘ä¸­é‡åˆ°çš„å‘)
* [åç»­å¾…å®Œæˆäº‹é¡¹](#åç»­å¾…å®Œæˆäº‹é¡¹)
* [å¾…ä¼˜åŒ–bug](#å¾…ä¼˜åŒ–bug)
* [æ€»ç»“](#æ€»ç»“)

# é¡¹ç›®ç®€ä»‹
OneMæ˜¯ä¸€æ¬¾çº¯ReactNativeå¼€å‘çš„APPï¼Œä¹Ÿæ˜¯ä½œè€…å¼€å‘çš„ç¬¬ä¸‰ä¸ªRNé¡¹ç›®ï¼Œå‰ä¸¤ä¸ªé¡¹ç›®æ˜¯å…¬å¸ä¼ä¸šçº¿ä¸Šé¡¹ç›®ï¼ŒOneMæ˜¯ä½œè€…ç‹¬ç«‹å¼€å‘çš„ç¬¬ä¸€ä¸ªRNå¼€æºé¡¹ç›®ã€‚æ­¤é¡¹ç›®æ¡†æ¶æ­å»ºå®Œå…¨æŒ‰ç…§ä¼ä¸šçº§é¡¹ç›®æ¡†æ¶æ ‡å‡†æ­å»ºè€Œæˆï¼Œå¼€å‘æ—¶é•¿çº¦1ä¸ªå¤šæœˆï¼ŒåæœŸä¹Ÿä¼šé•¿æœŸè¿­ä»£æ›´æ–°ç»´æŠ¤ã€‚é¡¹ç›®ç›®å‰æ”¯æŒiOSå’ŒAndroidåŒå¹³å°ã€‚iOSæ”¯æŒæœ€ä½ç‰ˆæœ¬ä¸ºï¼š8.0ï¼ŒAndroidæ”¯æŒæœ€ä½ç‰ˆæœ¬ä¸ºï¼š4.1ã€‚

# ä¸»è¦åŠŸèƒ½
**é¡¹ç›®åŠŸèƒ½ä¸»è¦åŒ…æ‹¬å››å¤§æ¨¡å—ï¼š**

* ç”µå½±
	* çƒ­æ˜ ä¸­ã€å³å°†ä¸Šæ˜ ç”µå½±åˆ—è¡¨
	* ç”µå½±è¯¦æƒ…
	* ç”µå½±é¢„å‘Šç‰‡ã€èŠ±çµ®ã€ç…§ç‰‡å¢™åˆ—è¡¨
	* ç”µå½±æ’­æ”¾å™¨ï¼Œä»¿çˆ±å¥‡è‰ºè§†é¢‘æ’­æ”¾å™¨é¡µé¢ï¼Œæ”¯æŒæ¨ªç«–å±åˆ‡æ¢
* éŸ³ä¹æ¨¡å—
	* éŸ³ä¹åˆ—è¡¨
	* éŸ³ä¹è¯¦æƒ…
	* éŸ³ä¹æ’­æ”¾å™¨ï¼Œä»¿ç½‘æ˜“éŸ³ä¹æ’­æ”¾å™¨é¡µé¢ï¼Œæ”¯æŒæ’­æ”¾æ¨¡å¼åˆ‡æ¢
* å›¾æ–‡æ¨¡å—
	* å›¾æ–‡æ‚å¿—åˆ—è¡¨
	* å›¾æ–‡è¯¦æƒ…
	* å›¾æ–‡æ …æ ¼åˆ—è¡¨é¡µ
* é˜…è¯»æ¨¡å—
	* é˜…è¯»æ–‡ç« åˆ—è¡¨
	* é˜…è¯»åˆ†ç±»
	* é˜…è¯»è¯¦æƒ…
	* é˜…è¯»è¯„è®º
* æˆ‘çš„
	* ä¸ªäººä¸­å¿ƒé¡µé¢
	* è´¦å·ç™»å½•é¡µé¢
	* ä¸‰æ–¹å¹³å°æˆæƒç™»å½•
	* æ³¨å†Œé¡µé¢
	* é¡¹ç›®ä¸­ä½¿ç”¨çš„å¸¸ç”¨æŠ€æœ¯çš„Demoé›†åˆé¡µé¢

# é¢„è§ˆæ•ˆæœå›¾
![gif](http://ovyjkveav.bkt.clouddn.com/17-11-7/92017297.jpg)

# æŸ¥çœ‹æ›´å¤šæ•ˆæœå›¾
**[https://github.com/guangqiang-liu/OneM-preview](https://github.com/guangqiang-liu/OneM-preview)**

# å®‰è£…è°ƒè¯•
1. `git clone https://github.com/guangqiang-liu/OneM`
2. `npm install -g react-native-cli`ï¼ˆ*å¦‚æœä¹‹å‰å®‰è£…è¿‡å…¨å±€çš„react-native-cliè¯·å¿½ç•¥æ­¤æ­¥éª¤*ï¼‰
3. `react-native link`
4. `npm install`
5. `npm start`
6. ä½¿ç”¨Xcode æˆ–è€…Android Studio è¿è¡Œé¡¹ç›®

# æ•°æ®API
**é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„æ•°æ®æ¥æºäºç½‘ç»œæŠ“åŒ…ï¼Œåœ¨æ­¤ä¹Ÿæ„Ÿè°¢å‰äººæ€»ç»“çš„APIæ–‡æ¡£**

[ONEMï¼šhttps://github.com/guangqiang-liu/OneM-API](https://github.com/guangqiang-liu/OneM-API)

# æŠ€æœ¯è¦ç‚¹
* ä½¿ç”¨react-native-router-fluxä¸Reduxç»“åˆæ­å»ºé¡¹ç›®æ¡†æ¶
* é¡¹ç›®ä¸­æ•°æ®ç®¡ç†åŸºäºReduxæ¡†æ¶å…¨å±€Storeç®¡ç†
* é¡¹ç›®æ”¯æŒiconFontå­—ä½“ä»¥åŠæ”¯æŒè‡ªå®šä¹‰fontåº“
* é¡¹ç›®ä¸­æ¥å…¥èš‚èšé‡‘æœant-design-mobileç»„ä»¶åº“
* å°è£…äº†ä¸€å¥—åŸºäºreact-native-router-fluxæ¡†æ¶çš„AOPæ‰“ç‚¹æ¡†æ¶
* è‡ªå®šä¹‰ç½‘ç»œè¯·æ±‚æ¡†æ¶ä»¥åŠæ•°æ®ç¼“å­˜ç­–ç•¥
* æ”¯æŒåŒæ—¶é€‚é…iOSã€Androidæ ·å¼ï¼Œè‡ªå®šä¹‰styleSheetç»„ä»¶
* iOSæ”¯æŒè‡ªåŠ¨ç®¡ç†é”®ç›˜å¼¹å‡ºé®æŒ¡é—®é¢˜
* é›†æˆå‹ç›Ÿä¸‰æ–¹åˆ†äº«å’Œæˆæƒç™»å½•
* å°è£…éŸ³é¢‘æ’­æ”¾å™¨ç»„ä»¶ï¼ŒUIæ•ˆæœå®Œå…¨æŒ‰ç…§ç½‘æ˜“éŸ³ä¹æ’­æ”¾å™¨ç•Œé¢æ‰“é€ 
* å°è£…è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶ï¼ŒUIæ•ˆæœå®Œå…¨æŒ‰ç…§çˆ±å¥‡è‰ºè§†é¢‘æ’­æ”¾å™¨ç•Œé¢æ‰“é€ 
* è‡ªå®šä¹‰debugé¢æ¿ï¼ŒAppä¸­ä¾¿æ·åˆ‡æ¢å„ç§å¼€å‘ç¯å¢ƒå’Œéšæ—¶æŸ¥çœ‹å½“å‰å‘é€çš„ç½‘ç»œè¯·æ±‚åˆ—è¡¨å’Œå¯¹åº”çš„è¯·æ±‚æ•°æ®
* è‡ªå®šä¹‰è¡¨å•è¯·æ±‚å‚æ•°æ ¡éªŒå™¨Validateç»„ä»¶
* å°è£…äº†ä¸€å¥—å¼ºå¤§å®Œå–„çš„Formè¡¨å•ç»„ä»¶
* å¾…è¡¥å……

# ä½¿ç”¨åˆ°çš„å¸¸ç”¨ä¸‰æ–¹åº“
* antd-mobile
* react-dom
* react-native-blur // åŸç”Ÿä¾èµ–åº“
* react-native-button
* react-native-device-info // åŸç”Ÿä¾èµ–åº“
* react-native-image-zoom-viewer
* react-native-message-bar
* react-native-orientation // åŸç”Ÿä¾èµ–åº“
* react-native-progress
* react-native-root-siblings
* react-native-root-toast
* react-native-router-flux
* react-native-scrollable-tab-view
* react-native-simple-store
* react-native-storage
* react-native-swiper
* react-native-tab-navigator
* react-native-vector-icons  // åŸç”Ÿä¾èµ–åº“
* react-native-video // åŸç”Ÿä¾èµ–åº“
* react-native-viewpager
* react-native-zoom-image
* react-timer-mixin
* react-navigation
* react-redux
* Redux
* redux-actions
* redux-promise-middleware
* redux-thunk
* å¾…è¡¥å……

# å®æˆ˜å¼€å‘ä¸­é‡åˆ°çš„å‘
* Androidç¼–è¯‘æŠ¥é”™ï¼šError:Could not add entry '-6081986774160961524' to cache fileSnapshots.bin (/Users/guangqiang/Desktop/ProjectRepo/ReactNative/OneM/android/.gradle/2.14.1/taskArtifacts/fileSnapshots.bin)
* æ¥å…¥iconFontç»„ä»¶åº“ï¼Œå®‰å“å·¥ç¨‹æŠ¥é”™
![errorImg](http://ovyjkveav.bkt.clouddn.com/17-10-27/55829900.jpg)
**è§£å†³æ–¹æ¡ˆï¼š[http://www.jianshu.com/p/9f6db8e38852](http://www.jianshu.com/p/9f6db8e38852)**
* `Actions.xxx({type: 'xxx'})`: router-fluxè·¯ç”±è·³è½¬é¡µé¢ä¼ é€’å‚æ•°æ—¶ï¼Œå‚æ•°å±æ€§åä¸èƒ½ä¸º`type`ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è·³è½¬é¡µé¢

* ReactNativeæŠ¥é”™: unddefined is not an objectï¼ˆevaluating â€˜_react2.PropTypes.xxxâ€™ï¼‰
![errorImg](http://ovyjkveav.bkt.clouddn.com/17-10-27/96143070.jpg)

**è§£å†³æ–¹æ¡ˆï¼š[http://www.jianshu.com/p/16a8f2d63ab3](http://www.jianshu.com/p/16a8f2d63ab3)**

* RNé¡¹ç›®åœ¨iOSç«¯å¯¼å‡ºipaæ˜¯æŠ¥ï¼šCan't find 'node' binary to build React Native bundle

![errorImg](http://ovyjkveav.bkt.clouddn.com/17-11-5/27889340.jpg)
**è§£å†³æ–¹æ¡ˆï¼š[http://www.jianshu.com/p/4501ed597aba](http://www.jianshu.com/p/4501ed597aba)**

* å¾…è¡¥å……

# åç»­å¾…å®Œæˆäº‹é¡¹
- [x] ç½‘ç»œç¼“å­˜
- [ ] è‡ªå®šä¹‰debugé¢æ¿
- [ ] æ—¥å¿—æ‰“ç‚¹è§†å›¾
- [x] Formè¡¨å•ç»„ä»¶
- [x] Validatorå‚æ•°æ ¡éªŒå™¨ç»„ä»¶
- [ ] iOSé¡¹ç›®æ”¯æŒpod
- [x] ä¸‰æ–¹åˆ†äº«åŠŸèƒ½
- [x] ä¸‰æ–¹ç™»å½•åŠŸèƒ½
- [ ] æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½
- [ ] ä¼˜åŒ–ä»£ç ï¼Œä¿®æ”¹bug
- [ ] å¾…è¡¥å……

# å¾…ä¼˜åŒ–bug
- [ ] éŸ³ä¹æ’­æ”¾å™¨CDç›˜æ—‹è½¬é—®é¢˜
- [x] éŸ³ä¹æ’­æ”¾å™¨è‡ªåŠ¨åˆ‡æ¢ä¸æ’­æ”¾éŸ³ä¹é—®é¢˜
- [x] è‡ªå®šä¹‰ç»„ä»¶åº“é€‚é…é—®é¢˜
- [x] readingåˆ—è¡¨æ•°æ®æ–‡ç« å†…å®¹å½“è¿”å›htmlä»£ç æ—¶ï¼Œé¡µé¢æ»‘åŠ¨é—®é¢˜
- [ ] å¾…è¡¥å……

# æ€»ç»“
**OneMé¡¹ç›®æ˜¯åŸºæœ¬å®Œå…¨æŒ‰ç…§å…¬å¸ä¼ä¸šå¼€å‘çš„è¦æ±‚å’Œæ ‡å‡†æ¥æ­å»ºæ•´ä½“æ¡†æ¶å’Œå¼€å‘çš„ï¼Œéå¸¸é€‚åˆRNåˆå­¦è€…å’Œæœ‰ä¸€å®šRNå¼€å‘åŸºç¡€çš„åŒå­¦ä»¬å‚è€ƒå­¦ä¹ ã€‚å¸Œæœ›OneMèƒ½ç»™åŒå­¦ä»¬å¸¦æ¥ä¸ä¸€æ ·çš„æ”¶è·ã€‚å¦‚æœåŒå­¦ä»¬åœ¨å¼€å‘ä¸­é‡åˆ°RNçš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥åŠ å…¥ä½œè€…çš„RNæŠ€æœ¯äº¤æµç¾¤ï¼Œå¤šå¤šæé—®ã€äº¤æµ(QQäº¤æµç¾¤ï¼š620792950)ã€‚**

**å½“ç„¶ï¼Œå¦‚æœåŒå­¦ä»¬è®¤ä¸ºä½œè€…çš„å¼€æºé¡¹ç›®è¿˜ä¸é”™ï¼Œä¹Ÿè¯·ç»™ä¸ª `star` æ”¯æŒä¸€ä¸‹ ğŸ™ğŸ™ğŸ™ ã€‚ä¹Ÿè¡·å¿ƒçš„æ¬¢è¿åŒå­¦ä»¬ç»™ä½œè€…æäº›å®è´µçš„æ„è§å’Œå»ºè®®ï¼**